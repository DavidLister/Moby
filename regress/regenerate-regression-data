# !/bin/bash
# script for regenerating regression data 

# setup the plugin path
source $1setup.sh

# regenerate the simple contact example(s)
echo "Regenerating data for sitting box"
$1moby-regress spinning-boxes.setup ../example/simple-contact/simplest.xml sitting-box.dat 
echo "Regenerating data for frictionless spinning box"
$1moby-regress spinning-boxes.setup ../example/simple-contact/spinning-box-frictionless.xml spinning-boxfrictionless.dat 
echo "Regenerating data for frictional spinning box"
$1moby-regress spinning-boxes.setup ../example/simple-contact/spinning-box-frictional.xml spinning-boxfrictional.dat 
echo "Regenerating data for ramp"
$1moby-regress ramp.setup ../example/simple-contact/ramp.xml ramp.dat 
echo "Regenerating data for cylinder"
$1moby-regress cylinder.setup ../example/simple-contact/cylinder.xml cylinder.dat 

# regenerate bouncing ball example
echo "Regenerating data for bouncing ball"
$1moby-regress bouncing-ball.setup ../example/bouncing-ball/bouncing-ball.xml bouncing-ball.dat

# regenerate the rolling torus example
echo "Regenerating the rolling torus example"
$1moby-regress rolling-torus.setup ../example/rolling-torus/torus.xml rolling-torus.dat 

# regenerate absolute coordinate examples
echo "Regenerating data for absolute coordinate pendulum"
$1moby-regress absolute-coords.setup ../example/absolute-coords/pendulum.xml absolute-coords-pendulum.dat
echo "Regenerating data for absolute coordinate double pendulum"
$1moby-regress absolute-coords.setup ../example/absolute-coords/double-pendulum.xml absolute-coords-double-pendulum.dat
echo "Regenerating data for absolute coordinate double pendulum with impact"
$1moby-regress absolute-coords.setup ../example/absolute-coords/double-pendulum-impact.xml absolute-coords-double-pendulum-impact.dat

# regenerate the fixed joint
echo "Regenerating data for fixed joint"
$1moby-regress fixed-articulated-table.setup ../example/fixed-joint/fixed-articulated-table.xml fixed-articulated-table.dat 

# regenerate the gears example 
echo "Regenerating data for gears"
$1moby-regress gears.setup ../example/fixed-joint/fixed-articulated-table.xml fixed-articulated-table.dat 

# regenerate the joint limits examples 
echo "Regenerating the pendulum joint limits example"
$1moby-regress joint-limits.setup ../example/joint-limits/limit-pendulum.xml limit-pendulum.dat 
echo "Regenerating the double pendulum joint limits example"
$1moby-regress joint-limits.setup ../example/joint-limits/limit-double-pendulum.xml limit-double-pendulum.dat 

# regenerate the planar joint example
echo "Regenerating the planar joint example"
$1moby-regress planar-joint.setup ../example/planar-joint/constrained.xml planar-joint.dat 

# regenerate the reduced coordinate examples
echo "Regenerating the reduced coordinate pendulum example"
$1moby-regress reduced-coords.setup ../example/reduced-coords/pendulum.xml rc-pendulum.dat 
echo "Regenerating the reduced coordinate double pendulum example"
$1moby-regress reduced-coords.setup ../example/reduced-coords/double-pendulum.xml rc-double-pendulum.dat 
echo "Regenerating the reduced coordinate pendulum impact example"
$1moby-regress reduced-coords.setup ../example/reduced-coords/pendulum-gears-impact.xml rc-pendulum-gears-impact.dat 
echo "Regenerating the reduced coordinate chain example"
$1moby-regress reduced-coords.setup ../example/reduced-coords/chain.xml rc-chain.dat 

# stacks
echo "Regenerating data for sphere stack"
$1moby-regress stacks.setup ../example/stacks/sphere-stack.xml sphere-stack.dat
echo "Regenerating data for stack2"
$1moby-regress stacks.setup ../example/stacks/stack2.xml stack2.dat
echo "Regenerating data for stack3"
$1moby-regress stacks.setup ../example/stacks/stack3.xml stack3.dat

# regenerate the URDF example 
echo "Regenerating data for the URDF pendulum"
$1moby-regress reduced-coords.setup ../example/urdf/pendulum-urdf.xml pendulum-urdf.dat 
 
# regenerate the contact constrained pendulum
echo "Regenerating data for contact constrained pendulum"
$1moby-regress contact-constrained-pendulum.setup ../example/contact-constrained-pendulum/contact-constrained-pendulum.xml contact-constrained-pendulum.dat 
 
# regenerate the rimless wheel example
export RIMLESS_WHEEL_THETAD=0.24
echo "Regenerating data for rimless wheel example"
$1moby-regress rimless-wheel.setup ../example/rimless-wheel/wheel.xml rimless-wheel.dat 

# regenerate the polyhedra examples
echo "Regenerating the frictionless spinning polyhedron example"
$1moby-regress spinning-boxes.setup ../example/polyhedra/spinning-box-frictionless.xml spinning-polyhedral-box-frictionless.dat 
echo "Regenerating the frictional spinning polyhedron example"
$1moby-regress spinning-boxes.setup ../example/polyhedra/spinning-box-frictional.xml spinning-polyhedral-box-frictional.dat 


